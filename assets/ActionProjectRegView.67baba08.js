import{m as j,f as m,g as u,k as N,M as S,d as H,h as l,o as R,i as e,G as $,u as p,H as g}from"./index.2a01bdce.js";import{_ as U,a as L,g as y,b as B}from"./SectionTitleLineWithButton.6f9ec719.js";import{C as J,a as w,_ as A}from"./CardBox.bca85cc1.js";import{u as E}from"./component.317f724c.js";import{_ as q}from"./BaseButtons.19f47afb.js";import{_ as x}from"./SectionTitle.9921259c.js";import{_ as i}from"./FormField.75048a21.js";import{_ as a}from"./auth.75b214dc.js";import{u as b}from"./dimension.cdad6a00.js";import{u as P}from"./initiative.3f4a173b.js";import{u as V}from"./project.b6eecae0.js";import{u as h}from"./action.6af36420.js";import"./api.5a77c80b.js";const k={props:{clearMethod:{type:Function}},computed:{...j(E,{components:"components"})},async mounted(){this.FETCH_INITIATIVES(),this.FETCH_COMPONENTS(),this.FETCH_DIMENSIONS(),this.FETCH_PROJECTS(),this.FETCH_ACTIONS()},methods:{...m(E,["FETCH_COMPONENT","FETCH_COMPONENTS","DELETE_COMPONENT","UPDATE_COMPONENT"]),...m(b,["FETCH_DIMENSION","FETCH_DIMENSIONS","DELETE_DIMENSION","UPDATE_DIMENSION","FILTER_DIMENSIONS"]),...m(P,["FETCH_INITIATIVE","FETCH_INITIATIVES","DELETE_INITIATIVE","UPDATE_INITIATIVE","FILTER_INITIATIVES"]),...m(V,["FETCH_PROJECT","FETCH_PROJECTS","DELETE_PROJECT","UPDATE_PROJECT","FILTER_PROJECTS"]),...m(h,["FETCH_ACTION","FETCH_ACTIONS","DELETE_ACTION","UPDATE_ACTION","FILTER_ACTIONS"]),openModalNew(){this.modalOpenNew=!this.modalOpenNew},openModalInfo(){this.modalOpenInfo=!this.modalOpenInfo},openModalEdit(){this.modalOpenEdit=!this.modalOpenEdit},openModaDelete(){this.modalOpenDelete=!this.modalOpenDelete}},data(){return{columns:[{name:"title",title:"T\xEDtulo"},{name:"description",title:"Descri\xE7\xE3o"}],filter:"",filterSelect:"",modalOpenNew:!1,modalOpenInfo:!1,modalOpenEdit:!1,modalOpenDelete:!1}},components:{CardBoxComponentFooter:J}},ie=Object.assign(k,{__name:"ActionProjectRegView",setup(X){const v=E(),T=b(),I=P(),r=V(),n=h();v.$reset(),T.$reset(),I.$reset(),r.$reset(),n.$reset();const _=u(()=>n.filteredActions),c=N(5),f=N(0);u(()=>_.value.slice(c.value*f.value,c.value*(f.value+1))),T.dimensions,I.initiatives,r.projects;let O=n.actions;const C=o=>{n.FILTER_ACTIONS(o),O=n.filteredActions,console.log(O)},M=u(()=>Math.ceil(_.value.length/c.value));u(()=>f.value+1),u(()=>{const o=[];for(let t=0;t<M.value;t++)o.push(t);return o});const F=o=>{r.FETCH_PROJECT(o)},D=o=>{n.FETCH_ACTION(o)},d=S({title:n.selectedAction.title,description:n.selectedAction.description});return S(n.selectedAction.title),n.selectedAction.description,(o,t)=>(R(),H(U,null,{default:l(()=>[e(B,null,{default:l(()=>[e(L,{icon:o.mdiBallotOutline,title:"Cadastro A\xE7\xE3o-Projeto",main:""},null,8,["icon"]),e(w,{form:"",onSubmit:$(o.submit,["prevent"])},{footer:l(()=>[e(q,null,{default:l(()=>[e(A,{type:"submit",color:"info",label:"Salvar"}),e(A,{type:"reset",color:"info",outline:"",label:"Resetar"})]),_:1})]),default:l(()=>[e(i,{label:"Projeto"},{default:l(()=>[e(a,{class:"basis-1/4 mr-4",modelValue:o.project,"onUpdate:modelValue":t[0]||(t[0]=s=>o.project=s),name:o.filterSelect,options:p(r).projects,onChange:t[1]||(t[1]=s=>{F(o.project),C(o.project)})},null,8,["modelValue","name","options"]),e(a,{class:"basis-3/4",disabled:"",value:p(r).selectedProject.id,placeholder:p(r).selectedProject.description,modelValue:o.selectedProject,"onUpdate:modelValue":t[2]||(t[2]=s=>o.selectedProject=s)},null,8,["value","placeholder","modelValue"])]),_:1}),e(i,{label:"A\xE7\xE3o"},{default:l(()=>[e(a,{class:"basis-1/4 mr-4",modelValue:o.action,"onUpdate:modelValue":t[3]||(t[3]=s=>o.action=s),name:C,options:p(n).filteredActions,onChange:t[4]||(t[4]=s=>D(o.action))},null,8,["modelValue","options"]),e(a,{class:"basis-3/4",disabled:"",value:p(n).selectedAction.id,placeholder:p(n).selectedAction.description,modelValue:o.selectedAction,"onUpdate:modelValue":t[5]||(t[5]=s=>o.selectedAction=s)},null,8,["value","placeholder","modelValue"])]),_:1}),e(i,{label:"\xD3rg\xE3o Respons\xE1vel"},{default:l(()=>[e(a,{modelValue:d.actions,"onUpdate:modelValue":t[6]||(t[6]=s=>d.actions=s),options:o.actionsOptions},null,8,["modelValue","options"])]),_:1}),e(i,{label:"Respons\xE1vel pela A\xE7\xE3o"},{default:l(()=>[e(a,{modelValue:d.actions,"onUpdate:modelValue":t[7]||(t[7]=s=>d.actions=s),options:o.actionsOptions},null,8,["modelValue","options"]),e(a,{placeholder:"fulano@email.com",disabled:""})]),_:1}),e(y),e(x,{class:"pb-12 pt-8"},{default:l(()=>[g("Informa\xE7\xF5es do Projeto")]),_:1}),e(i,{label:""},{default:l(()=>[e(i,{label:"Problema/Vulnerabilidade"},{default:l(()=>[e(a,{modelValue:d.actions,"onUpdate:modelValue":t[8]||(t[8]=s=>d.actions=s),options:o.actionsOptions},null,8,["modelValue","options"])]),_:1}),e(i,{label:"Categoria"},{default:l(()=>[e(a,{placeholder:"Categoria X",disabled:""})]),_:1})]),_:1}),e(i,{label:"Benefici\xE1rios"},{default:l(()=>[e(a,{placeholder:"Benefici\xE1rios X",disabled:""})]),_:1}),e(i,{label:"Benefici\xE1rios"},{default:l(()=>[e(a,{placeholder:"Benefici\xE1rios X",disabled:""})]),_:1}),e(i,{label:"Justificativa",help:"Max 255 caracteres"},{default:l(()=>[e(a,{type:"textarea",placeholder:"Explique assim..."})]),_:1}),e(i,{label:"Objetivo Geral",help:"Max 255 caracteres"},{default:l(()=>[e(a,{type:"textarea",placeholder:"Explique assim..."})]),_:1}),e(i,{label:"Produto/Servi\xE7o do Projeto",help:"Max 255 caracteres"},{default:l(()=>[e(a,{type:"textarea",placeholder:"Explique assim..."})]),_:1}),e(i,{label:"Metas",help:"Max 255 caracteres"},{default:l(()=>[e(a,{type:"textarea",placeholder:"Explique assim..."})]),_:1}),e(i,{label:"Resultados Esperados",help:"Max 255 caracteres"},{default:l(()=>[e(a,{type:"textarea",placeholder:"Explique assim..."})]),_:1}),e(i,{label:"Indicadores",help:"Max 255 caracteres"},{default:l(()=>[e(a,{type:"textarea",placeholder:"Explique assim..."})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1}))}});export{ie as default};
