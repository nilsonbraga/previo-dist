import{K as o,j as E}from"./index.2a01bdce.js";import{a as s}from"./api.5a77c80b.js";const a=o(),i="https://hgprevio.vicegov.ce.gov.br/api/v1",c="FETCH_VULNERABILITY_CATEGORIES",l="FETCH_VULNERABILITY_CATEGORY",T="DELETE_VULNERABILITY_CATEGORY",n="CLEAR_SELECTED_VULNERABILITY_CATEGORY",u="UPDATE_VULNERABILITY_CATEGORY",R="CREATE_VULNERABILITY_CATEGORY",I="RESET_VULNERABILITY_CATEGORIES",_="RESET_ERRORS",L=E("vulnerabilityCategories",{state:()=>({vulnerabilityCategories:[],selectedVulnerabilityCategory:[],isFieldFocusRegistered:!1,errors:{}}),actions:{validateInput(e,r){const t={};return(!e||typeof e=="string"&&e.trim()==="")&&(t[r]="Campo obrigat\xF3rio"),this.errors=t,!Object.keys(t).length},async[c](){try{const e=await s.get(`${i}/vulnerability_categories`);this.vulnerabilityCategories=e.data}catch(e){this.errors.api=e.message}},[I](){},[_](){this.errors={}},async[l](e){try{const r=await s.get(`${i}/vulnerability_categories/${e}`);this.selectedVulnerabilityCategory=r.data}catch(r){this.errors.api=r.message}},async[n](){this.selectedVulnerabilityCategory=[]},async[R](e){if(this.validateInput(e,"description"))try{return await s.post(`${i}/vulnerability_categories/`,{description:e}),await this.FETCH_VULNERABILITY_CATEGORIES(),a.success("Categoria de vulnerabilidade criada com sucesso!"),!0}catch{return a.error("Houve um erro ao criar a categoria de vulnerabilidade."),!1}return!1},async[u](e,r){if(this.validateInput(r,"description"))try{return await s.put(`${i}/vulnerability_categories/${e}`,{description:r}),await this.FETCH_VULNERABILITY_CATEGORIES(),a.success("Categoria de vulnerabilidade atualizada com sucesso!"),!0}catch(t){return this.errors.api=t.message,a.error("Houve um erro ao atualizar a categoria de vulnerabilidade."),!1}return!1},async[T](e){try{await s.delete(`${i}/vulnerability_categories/${e}`),await this.FETCH_VULNERABILITY_CATEGORIES(),a.success("Categoria de vulnerabilidade exclu\xEDda com sucesso!")}catch(r){this.errors.api=r.message,a.error("Houve um erro ao excluir a categoria de vulnerabilidade.")}}}});export{L as u};
