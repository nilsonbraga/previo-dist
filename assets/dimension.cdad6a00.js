import{K as a,j as c}from"./index.2a01bdce.js";import{a as o}from"./api.5a77c80b.js";const i=a(),n="https://hgprevio.vicegov.ce.gov.br/api/v1",E="FETCH_DIMENSIONS",I="FETCH_DIMENSION",m="DELETE_DIMENSION",D="CLEAR_SELECTED_DIMENSION",S="UPDATE_DIMENSION",d="CREATE_DIMENSION",N="FILTER_DIMENSIONS",h="RESET_DIMENSIONS",l="RESET_ERRORS",T=c("dimensions",{state:()=>({dimensions:[],selectedDimension:[],filteredDimensions:[],isFieldFocusRegistered:!1,errors:{}}),getters:{getDimensions:s=>s.dimensions,getDimension:s=>s.selectedDimension},actions:{validateTitle(s){const e={};return(!s||s.trim()==="")&&(e.title="O T\xEDtulo \xE9 obrigat\xF3rio"),this.errors=e,!Object.keys(e).length},validateDescription(s){const e={};return(!s||s.trim()==="")&&(e.description="A Descri\xE7\xE3o \xE9 obrigat\xF3ria"),this.errors=e,!Object.keys(e).length},validateComponentId(s){const e={};return s||(e.component_id="O Componente \xE9 obrigat\xF3rio"),this.errors=e,!Object.keys(e).length},async[E](){try{const s=await o.get(`${n}/dimensions`);this.dimensions=s.data}catch(s){this.errors.api=s.message}},[h](){Object.assign(this,defaultState)},[l](){this.errors={}},[N](s){this.filteredDimensions=this.dimensions;let t=this.dimensions.filter(r=>r.component_id==s);this.filteredDimensions=t},async[I](s){try{const e=await o.get(`${n}/dimensions/${s}`);this.selectedDimension=e.data}catch(e){this.errors.api=e.message}},async[D](){this.selectedDimension=[]},async[d](s,e,t){if(this.validateComponentId(t)&&this.validateDescription(e)&&this.validateTitle(s))try{return await o.post(`${n}/dimensions/`,{title:s,description:e,component_id:t}),await this.FETCH_DIMENSIONS(),i.success("Dimens\xE3o criada com sucesso!"),this.FILTER_DIMENSIONS(t),!0}catch(r){return i.error(r.component_id),!1}return!1},async[S](s,e,t){if(this.validateTitle(e)&&this.validateDescription(t))try{return await o.put(`${n}/dimensions/${s}`,{title:e,description:t}),await this.FETCH_DIMENSIONS(),this.FILTER_DIMENSIONS(this.selectedDimension.component_id),i.success("Dimens\xE3o atualizada com sucesso!"),!0}catch(r){return this.errors.api=r.message,i.error("Houve um erro ao atualizar a dimens\xE3o."),!1}return!1},async[m](s){try{await o.delete(`${n}/dimensions/${s}`),await this.FETCH_DIMENSIONS(),i.success("Dimens\xE3o exclu\xEDda com sucesso!"),this.FILTER_DIMENSIONS(this.selectedDimension.component_id)}catch(e){this.errors.api=e.message,i.error("Houve um erro ao excluir a dimens\xE3o.")}}}});export{T as u};
