import{K as c,j as i}from"./index.2a01bdce.js";import{a as s}from"./api.5a77c80b.js";const o=c(),r="https://hgprevio.vicegov.ce.gov.br/api/v1",E="FETCH_COMPONENTS",m="FETCH_COMPONENT",p="DELETE_COMPONENT",T="CLEAR_SELECTED_COMPONENT",C="UPDATE_COMPONENT",u="CREATE_COMPONENT",l="FETCH_FULLMATRIX",O="RESET_ERRORS",_=i("components",{state:()=>({components:{},selectedComponent:{},fullMatrix:[],isFieldFocusRegistered:!1,errors:{}}),getters:{getComponents:e=>e.components,getComponent:e=>e.selectedComponent,getFullMatrix:e=>e.fullMatrix},actions:{validateTitle(e){const t={};return(!e||e.trim()==="")&&(t.title="O T\xEDtulo \xE9 obrigat\xF3rio"),this.errors=t,!Object.keys(t).length},validateDescription(e){const t={};return(!e||e.trim()==="")&&(t.description="A Descri\xE7\xE3o \xE9 obrigat\xF3ria"),this.errors=t,!Object.keys(t).length},async[E](){try{const e=await s.get(`${r}/components`);this.components=e.data}catch(e){this.errors.api=e.message}},async[l](){try{const e=await s.get(`${r}/components_fullmatrix`);this.fullMatrix=e.data}catch(e){this.errors.api=e.message}},[O](){this.errors={}},async[m](e){try{const t=await s.get(`${r}/components/${e}`);this.selectedComponent=t.data}catch(t){this.errors.api=t.message}},[T](){this.selectedComponent=[]},async[u](e,t){if(this.validateTitle(e)&&this.validateDescription(t))try{return await s.post(`${r}/components/`,{title:e,description:t}),await this.FETCH_COMPONENTS(),o.success("Componente criado com sucesso!"),!0}catch(a){return this.errors.api=a.message,o.error("Houve um erro ao criar o componente."),!1}return!1},async[C](e,t,a){if(this.validateTitle(t)&&this.validateDescription(a))try{return await s.put(`${r}/components/${e}`,{title:t,description:a}),await this.FETCH_COMPONENTS(),o.success("Componente atualizado com sucesso!"),!0}catch(n){return this.errors.api=n.message,o.error("Houve um erro ao atualizar o componente."),!1}return!1},async[p](e){try{await s.delete(`${r}/components/${e}`),await this.FETCH_COMPONENTS(),o.success("Componente exclu\xEDdo com sucesso!")}catch(t){this.errors.api=t.message,o.error("Houve um erro ao excluir o componente.")}}}});export{_ as u};
